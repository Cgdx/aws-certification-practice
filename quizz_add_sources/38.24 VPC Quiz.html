<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>
    <style>
      * {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
          Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-size: 16px;
      }

      main {
        padding-top: 48px;
      }

      :root {
        --large-device-width: 850px;
        --primary-color: #0f172a;
        --secondary-color: #020617;
        --primary-text-color: #c7d1dd;
        --secondary-text-color: #061602;
        --success-background: hsl(159, 82%, 24%);
        --success-foreground: hsl(164, 86%, 16%);
        --success: hsl(160, 84%, 39%);
        --danger: #ef4444;
        --warning: #f59e0b;
        --info-background: hsl(218, 81%, 8%);
        --info-foreground: hsl(217, 91%, 85%);
        --border-color: #d1d7dc;
        --check-box-size: 20px;
        /* control the size */
        --check-box-color: var(--info-foreground);
        /* the active color */
      }

      body {
        position: relative;
        background-color: #020617;
        color: var(--primary-text-color);
      }

      #score-stats-container {
        position: fixed;
        z-index: 10;
        top: 0;
        height: 40px;
        width: 100%;
        background-color: var(--info-background);

        padding: 0px 16px;
        color: var(--info-foreground);
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      #quiz-container {
        border-radius: 8px;
        display: flex;
        gap: 16px;
        flex-direction: column;
      }

      input[type='radio'] {
        height: var(--check-box-size);
        aspect-ratio: 1;
        border: calc(var(--check-box-size) / 8) solid #939393;
        padding: calc(var(--check-box-size) / 8);
        background: radial-gradient(farthest-side, var(--check-box-color) 94%, #0000) 50%/0 0 no-repeat
          content-box;
        border-radius: 50%;
        outline-offset: calc(var(--check-box-size) / 10);
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        cursor: pointer;
        font-size: inherit;
        transition: 0.3s;
      }

      input[type='radio']:checked {
        border-color: var(--check-box-color);
        background-size: 100% 100%;
      }

      input[type='radio']:disabled {
        background: linear-gradient(#939393 0 0) 50%/100% 20% no-repeat content-box;
        opacity: 0.5;
        cursor: not-allowed;
      }

      label {
        /* display: inline-flex; */
        align-items: center;
        gap: 10px;
        cursor: pointer;
        padding: 4px 6px;
        border-radius: 4px;
      }

      @media (max-width: 767px) {
        input[type='radio'],
        label {
          cursor: default;
        }

        #quiz-container {
          margin-left: 8px;
          margin-right: 8px;
        }
      }

      /* PC (Desktop devices) */
      @media (min-width: 768px) {
        body {
          display: flex;
          justify-content: center;
        }

        main {
          max-width: var(--large-device-width);
        }

        #score-stats-container {
          max-width: var(--large-device-width);
        }

        dialog {
          max-width: var(--large-device-width);
        }
      }

      @media print {
        input[type='radio'] {
          background: none !important;
          border-color: #939393 !important;
        }

        input[type='radio']:checked {
          border-color: #939393 !important;
        }
      }

      .question-lable {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      button {
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        outline: none;
        position: relative;
        overflow: hidden;
        cursor: pointer;
      }

      .button {
        background-color: var(--success-background);
        border: none;
        color: #f4f5f7;
        opacity: 0.8;
        font-size: 18px;
        flex-grow: 1;
        padding: 8px 16px;
        border-radius: 8px;
      }

      .button:hover {
        opacity: 1;
      }

      .explanation-btn {
        border: none;
        color: var(--success);
        background-color: transparent;
      }

      #submit-button:active::after {
        background-color: #ef4444;
      }

      .single-question-container {
        background-color: var(--primary-color);
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 16px;
        border-radius: 8px;
      }

      #modal-content {
        padding: 16px;
        line-height: 24px;
      }

      dialog::backdrop {
        background: rgba(0, 0, 0, 0.5);
      }

      dialog {
        position: fixed;
        border: 1px solid var(--border-color);
        background-color: var(--primary-color);
        color: rgb(240, 241, 248);
        padding: 16px;
        border-radius: 8px;
        width: 80vw;
        max-height: 80vh;
        overflow: auto;
        top: 50%;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-50%);
        -moz-transform: translateX(-50%) translateY(-50%);
        -ms-transform: translateX(-50%) translateY(-50%);
        transform: translateX(-50%) translateY(-50%);
      }

      #close-modal-btn {
        position: absolute;
        top: 4px;
        right: 4px;
        padding: 2px 8px;
        border-radius: 2px;
        border: none;
        background-color: var(--danger);
      }

      .correct-answer label {
        border: 2px solid var(--success);
        width: 100%;
      }

      .incorrect-answer label {
        border: 2px solid var(--danger);
        width: 100%;
      }

      .options-container {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      #quiz-meta-container {
        border-radius: 8px;
        background-color: var(--primary-color);
        margin-bottom: 12px;
        padding: 8px;
      }

      #quiz-title {
        text-align: center;
        font-size: 24px;
        margin-bottom: 8px;
      }

      #quiz-description {
        line-height: 1.5;
        padding: 2px 6px;
      }
      img {
        width: 100%;
      }
    </style>
  </head>

  <body onload="main()">
    <main>
      <section id="quiz-meta-container">
        <h1 id="quiz-title"></h1>
        <p id="quiz-description"></p>
      </section>
      <section id="score-stats-container">
        <div id="score-card">
          Score: <span id="current-score">999</span> of
          <span id="pass-percent">999%</span>
        </div>
        <div>Correct: <span id="correct-answers">999</span></div>
        <div>Incorrect: <span id="wrong-answers">999</span></div>
      </section>

      <section id="quiz-container"></section>

      <dialog id="modal" class="modal-container">
        <div id="modal-content">
          <p id="modal-text"></p>
        </div>
      </dialog>
    </main>

    <script>
      const quizData = {"quiz_id":5337503,"quiz_title":"VPC Quiz","questions":[{"_class":"assessment","id":37604079,"assessment_type":"multiple-choice","prompt":{"question":"<p>What does this CIDR <code>10.0.4.0/28</code> correspond to?</p>","feedbacks":["/28 means 16 IPs (=2^(32-28) = 2^4), means only the last digit can change.","","",""],"relatedLectureIds":"","answers":["<p><code>10.0.4.0</code> to <code>10.0.4.15</code> </p>","<p><code>10.0.4.0</code> to <code>10.0.32.0</code> </p>","<p><code>10.0.4.0</code> to <code>10.0.4.28</code> </p>","<p><code>10.0.0.0</code> to <code>10.0.16.0</code> </p>"]},"correct_response":["a"],"section":"","question_plain":"What does this CIDR 10.0.4.0/28 correspond to?","related_lectures":[]},{"_class":"assessment","id":37604085,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","answers":["<p><code>172.16.0.0/12</code> </p>","<p><code>172.16.0.0/16</code> </p>","<p><code>10.0.16.0/16</code> </p>","<p><code>192.168.4.0/18</code> </p>"],"question":"<p>You have a corporate network of size <code>10.0.0.0/8</code> and a satellite office of size <code>192.168.0.0/16</code>. Which CIDR is acceptable for your AWS VPC if you plan on connecting your networks later on?</p>","feedbacks":["","CIDR not should overlap, and the max CIDR size in AWS is /16.","",""]},"correct_response":["b"],"section":"","question_plain":"You have a corporate network of size 10.0.0.0/8 and a satellite office of size 192.168.0.0/16. Which CIDR is acceptable for your AWS VPC if you plan on connecting your networks later on?","related_lectures":[]},{"_class":"assessment","id":37604091,"assessment_type":"multiple-choice","prompt":{"feedbacks":["Too small, it's 16 IPs, 5 of them already reserved by AWS.","Too small, it's 32 IPs, 5 of them already reserved by AWS.","Perfect size, 64 IPs.","Too big, it's 128 IPs."],"answers":["<p>/28</p>","<p>/27</p>","<p>/26</p>","<p>/25</p>"],"relatedLectureIds":"","question":"<p>You plan on creating a subnet and want it to have at least capacity for 28 EC2 instances. What's the minimum size you need to have for your subnet?</p>"},"correct_response":["c"],"section":"","question_plain":"You plan on creating a subnet and want it to have at least capacity for 28 EC2 instances. What's the minimum size you need to have for your subnet?","related_lectures":[]},{"_class":"assessment","id":37604093,"assessment_type":"multiple-choice","prompt":{"question":"<p>Security Groups operate at the ................. level while NACLs operate at the ................. level.</p>","feedbacks":["",""],"relatedLectureIds":"","answers":["<p>EC2 instance, Subnet</p>","<p>Subnet, EC2 instance</p>"]},"correct_response":["a"],"section":"","question_plain":"Security Groups operate at the ................. level while NACLs operate at the ................. level.","related_lectures":[]},{"_class":"assessment","id":37604103,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","question":"<p>You have attached an Internet Gateway to your VPC, but your EC2 instances still don't have access to the internet. What is <strong>NOT</strong> a possible issue?</p>","feedbacks":["","","Security groups are stateful and if traffic can go out, then it can go back in.",""],"answers":["<p>Route Tables are missing entries</p>","<p>The EC2 instances don't have public IPs</p>","<p>The Security Group does not allow traffic in</p>","<p>The NACL does not allow network traffic out</p>"]},"correct_response":["c"],"section":"","question_plain":"You have attached an Internet Gateway to your VPC, but your EC2 instances still don't have access to the internet. What is NOT a possible issue?","related_lectures":[]},{"_class":"assessment","id":37604113,"assessment_type":"multiple-choice","prompt":{"answers":["<p>NAT Instances with Source/Destination Check flag off</p>","<p>Egress Only Internet Gateway</p>","<p>NAT Gateway</p>"],"relatedLectureIds":"","question":"<p>You would like to provide Internet access to your EC2 instances in private subnets with IPv4 while making sure this solution requires the least amount of administration and scales seamlessly. What should you use?</p>","feedbacks":["This means creating a NAT EC2 Instance and although this would work, it would require some integration and would not scale seamlessly.","This is for IPv6 only.",""]},"correct_response":["c"],"section":"","question_plain":"You would like to provide Internet access to your EC2 instances in private subnets with IPv4 while making sure this solution requires the least amount of administration and scales seamlessly. What should you use?","related_lectures":[]},{"_class":"assessment","id":37604115,"assessment_type":"multiple-choice","prompt":{"question":"<p>VPC Peering has been enabled between VPC A and VPC B, and the route tables have been updated for VPC A. But, the EC2 instances cannot communicate. What is the likely issue?</p>","feedbacks":["","Route tables must be updated in both VPCs that are peered.","",""],"relatedLectureIds":"","answers":["<p>Check the NACL</p>","<p>Check the Route Tables in VPC B</p>","<p>Check the EC2 instance attached Security Groups</p>","<p>Check if DNS Resolution is enabled</p>"]},"correct_response":["b"],"section":"","question_plain":"VPC Peering has been enabled between VPC A and VPC B, and the route tables have been updated for VPC A. But, the EC2 instances cannot communicate. What is the likely issue?","related_lectures":[]},{"_class":"assessment","id":37604117,"assessment_type":"multiple-choice","prompt":{"answers":["<p>Enable VPC Peering</p>","<p>Use a Customer Gateway</p>","<p>Use a Direct Connect Gateway</p>","<p>Set up a NAT Gateway</p>"],"feedbacks":["You can't create a VPC Peering connection between VPC and on-premises corporate data center. Also, the VPC Peering connection is not transitive.","","This is the main use case of Direct Connect Gateways.",""],"question":"<p>You have set up a Direct Connect connection between your corporate data center and your VPC A in your AWS account. You need to access VPC B in another AWS region from your corporate datacenter as well. What should you do?</p>","relatedLectureIds":""},"correct_response":["c"],"section":"","question_plain":"You have set up a Direct Connect connection between your corporate data center and your VPC A in your AWS account. You need to access VPC B in another AWS region from your corporate datacenter as well. What should you do?","related_lectures":[]},{"_class":"assessment","id":37604121,"assessment_type":"multiple-choice","prompt":{"question":"<p>When using VPC Endpoints, what are the only two AWS services that have a Gateway Endpoint available?</p>","relatedLectureIds":"","feedbacks":["","","These two services have a VPC Gateway Endpoint (remember it), all the other ones have an Interface endpoint (powered by Private Link - means a private IP)."],"answers":["<p>Amazon S3 &amp; Amazon SQS</p>","<p>Amazon SQS &amp; DynamoDB</p>","<p>Amazon S3 &amp; DynamoDB</p>"]},"correct_response":["c"],"section":"","question_plain":"When using VPC Endpoints, what are the only two AWS services that have a Gateway Endpoint available?","related_lectures":[]},{"_class":"assessment","id":37604129,"assessment_type":"multiple-choice","prompt":{"answers":["<p><code>10.0.0.1</code> </p>","<p><code>10.0.0.2</code> </p>","<p><code>10.0.0.3</code> </p>","<p><code>10.0.0.4</code> </p>"],"relatedLectureIds":"","feedbacks":["","","",""],"question":"<p>AWS reserves 5 IP addresses each time you create a new subnet in a VPC. When you create a subnet with CIDR <code>10.0.0.0/24</code>, the following IP addresses are reserved, <strong>EXCEPT</strong> ....................</p>"},"correct_response":["d"],"section":"","question_plain":"AWS reserves 5 IP addresses each time you create a new subnet in a VPC. When you create a subnet with CIDR 10.0.0.0/24, the following IP addresses are reserved, EXCEPT ....................","related_lectures":[]},{"_class":"assessment","id":37604137,"assessment_type":"multiple-choice","prompt":{"answers":["<p>As VPC Peering supports Transitive Peering, so you need to establish 2 VPC Peering connections (A-B, B-C)</p>","<p>Establish 3 VPC Peering connections (A-B, A-C, B-C)</p>"],"question":"<p>You have 3 VPCs A, B, and C. You want to establish a VPC Peering connection between all the 3 VPCs. What should you do?</p>","relatedLectureIds":"","feedbacks":["",""]},"correct_response":["b"],"section":"","question_plain":"You have 3 VPCs A, B, and C. You want to establish a VPC Peering connection between all the 3 VPCs. What should you do?","related_lectures":[]},{"_class":"assessment","id":37604147,"assessment_type":"multiple-choice","prompt":{"question":"<p>How can you capture information about IP traffic inside your VPCs?</p>","relatedLectureIds":"","feedbacks":["VPC Flow Logs is a VPC feature that enables you to capture information about the IP traffic going to and from network interfaces in your VPC.","VPC Traffic Mirroring is a VPC feature that you can use to copy network traffic from an Elastic Network Interface (ENI). Use cases include content inspection, threat monitoring, and troubleshooting.","There's no such feature."],"answers":["<p>Enable VPC Flow Logs</p>","<p>Enable VPC Traffic Mirroring</p>","<p>Enable CloudWatch Traffic Logs</p>"]},"correct_response":["a"],"section":"","question_plain":"How can you capture information about IP traffic inside your VPCs?","related_lectures":[]},{"_class":"assessment","id":37604153,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","question":"<p>If you want a 500 Mbps Direct Connect connection between your corporate datacenter to AWS, you would choose a .................. connection.</p>","feedbacks":["A Dedicated Direct Connect connection supports 1Gbps and 10Gbps.","Hosted Direct Connect connection supports 50Mbps, 500Mbps, up to 10Gbps."],"answers":["<p>Dedicated</p>","<p>Hosted</p>"]},"correct_response":["b"],"section":"","question_plain":"If you want a 500 Mbps Direct Connect connection between your corporate datacenter to AWS, you would choose a .................. connection.","related_lectures":[]},{"_class":"assessment","id":37604165,"assessment_type":"multiple-choice","prompt":{"feedbacks":["","","",""],"question":"<p>When you set up an AWS Site-to-Site VPN connection between your corporate on-premises datacenter and VPCs in AWS Cloud, what are the two major components you want to configure for this connection?</p>","relatedLectureIds":"","answers":["<p>Customer Gateway and NAT Gateway</p>","<p>Internet Gateway and Customer Gateway</p>","<p>Virtual Private Gateway and Internet Gateway</p>","<p>Virtual Private Gateway and Customer Gateway</p>"]},"correct_response":["d"],"section":"","question_plain":"When you set up an AWS Site-to-Site VPN connection between your corporate on-premises datacenter and VPCs in AWS Cloud, what are the two major components you want to configure for this connection?","related_lectures":[]},{"_class":"assessment","id":37604181,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","feedbacks":["VPC Peering connection is a networking connection between two VPCs that enables you to route traffic between them using private IPv4/IPv6 addresses. It can't be used with on-premises networks.","AWS VPN CloudHub allows you to securely communicate with multiple sites using AWS VPN. It operates on a simple hub-and-spoke model that you can use with or without a VPC.","AWS Direct Connect allows you to establish a dedicated network connection between AWS and your on-premises. This would work, but it will be very expensive. This is a private connection and the question states that the backup connection can use the public Internet.",""],"question":"<p>Your company has several on-premises sites across the USA. These sites are currently linked using private connections, but your private connections provider has been recently quite unstable, making your IT architecture partially offline. You would like to create a backup connection that will use the public Internet to link your on-premises sites, that you can failover in case of issues with your provider. What do you recommend?</p>","answers":["<p>VPC Peering</p>","<p>AWS VPN CloudHub</p>","<p>Direct Connect</p>","<p>AWS PrivateLink</p>"]},"correct_response":["b"],"section":"","question_plain":"Your company has several on-premises sites across the USA. These sites are currently linked using private connections, but your private connections provider has been recently quite unstable, making your IT architecture partially offline. You would like to create a backup connection that will use the public Internet to link your on-premises sites, that you can failover in case of issues with your provider. What do you recommend?","related_lectures":[]},{"_class":"assessment","id":37604189,"assessment_type":"multiple-choice","prompt":{"question":"<p>You need to set up a dedicated connection between your on-premises corporate datacenter and AWS Cloud. This connection must be private, consistent, and traffic must not travel through the Internet. Which AWS service should you use?</p>","feedbacks":["This would not be suitable, as traffic travels through the public Internet.","","",""],"relatedLectureIds":"","answers":["<p>Site-to-Site VPN</p>","<p>AWS PrivateLink</p>","<p>AWS Direct Connect</p>","<p>Amazon EventBridge</p>"]},"correct_response":["c"],"section":"","question_plain":"You need to set up a dedicated connection between your on-premises corporate datacenter and AWS Cloud. This connection must be private, consistent, and traffic must not travel through the Internet. Which AWS service should you use?","related_lectures":[]},{"_class":"assessment","id":37604201,"assessment_type":"multiple-choice","prompt":{"question":"<p>Using a Direct Connect connection, you can access both public and private AWS resources.</p>","answers":["<p>True</p>","<p>False</p>"],"feedbacks":["",""],"relatedLectureIds":""},"correct_response":["a"],"section":"","question_plain":"Using a Direct Connect connection, you can access both public and private AWS resources.","related_lectures":[]},{"_class":"assessment","id":37604205,"assessment_type":"multiple-choice","prompt":{"question":"<p>You want to scale up an AWS Site-to-Site VPN connection throughput, established between your on-premises data and AWS Cloud, beyond a single IPsec tunnel's maximum limit of 1.25 Gbps. What should you do?</p>","feedbacks":["","",""],"relatedLectureIds":"","answers":["<p>Use 2 Virtual Private Gateways</p>","<p>Use Direct Connect Gateway</p>","<p>Use Transit Gateway</p>"]},"correct_response":["c"],"section":"","question_plain":"You want to scale up an AWS Site-to-Site VPN connection throughput, established between your on-premises data and AWS Cloud, beyond a single IPsec tunnel's maximum limit of 1.25 Gbps. What should you do?","related_lectures":[]},{"_class":"assessment","id":37604211,"assessment_type":"multiple-choice","prompt":{"answers":["<p>Modify your VPC to run in IPv6 mode only</p>","<p>Modify your VPC to run in IPv4 mode only</p>","<p>Add an additional IPv4 CIDR to your VPC</p>"],"feedbacks":["","",""],"relatedLectureIds":"","question":"<p>You have a VPC in your AWS account that runs in a dual-stack mode. You are continuously trying to launch an EC2 instance, but it fails. After further investigation, you have found that you are no longer have IPv4 addresses available. What should you do?</p>"},"correct_response":["c"],"section":"","question_plain":"You have a VPC in your AWS account that runs in a dual-stack mode. You are continuously trying to launch an EC2 instance, but it fails. After further investigation, you have found that you are no longer have IPv4 addresses available. What should you do?","related_lectures":[]},{"_class":"assessment","id":51343956,"assessment_type":"multiple-choice","prompt":{"question":"<p>A web application backend is hosted on EC2 instances in private subnets fronted by an Application Load Balancer in public subnets. There is a requirement to give some of the developers access to the backend EC2 instances but without exposing the backend EC2 instances to the Internet. You have created a bastion host EC2 instance in the public subnet and configured the backend EC2 instances Security Group to allow traffic from the bastion host. Which of the following is the best configuration for bastion host Security Group to make it secure?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>Allow traffic only on port 80 from the company’s public CIDR</p>","<p>Allow traffic only on port 22 from the company’s public CIDR</p>","<p>Allow traffic only on port 22 from the company’s private CIDR</p>","<p>Allow traffic only on port 80 from the company’s private CIDR</p>"]},"correct_response":["b"],"section":"","question_plain":"A web application backend is hosted on EC2 instances in private subnets fronted by an Application Load Balancer in public subnets. There is a requirement to give some of the developers access to the backend EC2 instances but without exposing the backend EC2 instances to the Internet. You have created a bastion host EC2 instance in the public subnet and configured the backend EC2 instances Security Group to allow traffic from the bastion host. Which of the following is the best configuration for bastion host Security Group to make it secure?","related_lectures":[]},{"_class":"assessment","id":51343958,"assessment_type":"multiple-choice","prompt":{"question":"<p>A company has set up a Direct Connect connection between their corporate data center to AWS. There is a requirement to prepare a cost-effective secure backup connection in case there are issues with this Direct Connect connection. What is the most cost effective and secure solution you recommend?</p>","relatedLectureIds":"","feedbacks":["","",""],"answers":["<p>Setup another Direct Connect connection to the same AWS region</p>","<p>Setup another Direct Connect connection to a different AWS region</p>","<p>Setup a Site-to-Site VPN connection as a backup</p>"]},"correct_response":["c"],"section":"","question_plain":"A company has set up a Direct Connect connection between their corporate data center to AWS. There is a requirement to prepare a cost-effective secure backup connection in case there are issues with this Direct Connect connection. What is the most cost effective and secure solution you recommend?","related_lectures":[]},{"_class":"assessment","id":51343964,"assessment_type":"multiple-choice","prompt":{"question":"<p>Which AWS service allows you to protect and control traffic in your VPC from layer 3 to layer 7?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>AWS Network Firewall</p>","<p>Amazon Guard Duty</p>","<p>Amazon Inspector</p>","<p>Amazon Shield</p>"]},"correct_response":["a"],"section":"","question_plain":"Which AWS service allows you to protect and control traffic in your VPC from layer 3 to layer 7?","related_lectures":[]},{"_class":"assessment","id":54721724,"assessment_type":"multiple-choice","prompt":{"question":"<p>A web application hosted on a fleet of EC2 instances managed by an Auto Scaling Group. You are exposing this application through an Application Load Balancer. Both the EC2 instances and the ALB are deployed on a VPC with the following CIDR <code>192.168.0.0/18</code>. How do you configure the EC2 instances' security group to ensure only the ALB can access them on port <code>80</code>?</p>","relatedLectureIds":"","feedbacks":["","","This is the most secure way of ensuring only the ALB can access the EC2 instances. Referencing by security groups in rules is an extremely powerful rule and many questions at the exam rely on it. Make sure you fully master the concepts behind it!",""],"answers":["<p>Add an Inbound Rule with port <code>80</code> and <code>0.0.0.0/0</code> as the source</p>","<p>Add an Inbound Rule with port <code>80</code> and <code>192.168.0.0/18</code> as the source</p>","<p>Add an Inbound Rule with port <code>80</code> and ALB's Security Group as the source</p>","<p>Load an SSL certificate on the ALB</p>"]},"correct_response":["c"],"section":"","question_plain":"A web application hosted on a fleet of EC2 instances managed by an Auto Scaling Group. You are exposing this application through an Application Load Balancer. Both the EC2 instances and the ALB are deployed on a VPC with the following CIDR 192.168.0.0/18. How do you configure the EC2 instances' security group to ensure only the ALB can access them on port 80?","related_lectures":[]}]};
      let correct = new Set();
      let incorrect = new Set();
      let totalNumberOfQuestions = 0;
      const quizTitle = quizData.quiz_title;
      const quizDescription = quizData.quiz_description;
      const questionData = quizData.questions;
      const passPercent = quizData.pass_percent;
      const modalTextElement = document.getElementById('modal-text');
      const quizContainerElement = document.getElementById('quiz-container');

      const dialog = document.querySelector('dialog');
      const showButton = document.getElementById('view-explanatin');
      const closeButton = document.getElementById('close-modal-btn');
      const quizTitleElement = document.getElementById('quiz-title');
      const quizDescriptionElement = document.getElementById('quiz-description');

      function main() {
        // update quiz meta data
        document.title = quizTitle;
        quizTitleElement.innerHTML = quizTitle;
        quizDescriptionElement.innerHTML = quizDescription;

        const passPercentElement = document.getElementById('pass-percent');
        passPercentElement.innerHTML = passPercent + '%';
        totalNumberOfQuestions = questionData.length;
        // shuffle the questionData to randomize the order of the questions
        for (let i = questionData.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [questionData[i], questionData[j]] = [questionData[j], questionData[i]];
        }

        let formattedQuestions = questionData.map(formatSingleQuestionData);
        updateScore();
        // display the formattedQuestions
        formattedQuestions.forEach((question, idx) => {
          renderSingleQuestion(question, idx + 1);
        });
      }

      /**
       * Formats the question data from the given QuizData object.
       *
       * @param {Object} singleQuizData - The singleQuizData object containing prompt and correct_response.
       * @return {Object} The formatted question object with the following properties:
       *   - id: The ID of the question.
       *   - question: The text of the question.
       *   - answers: The array of answer options.
       *   - correctAnswer: The text of the correct answer.
       *   - explanation: The explanation of the correct answer.
       */
      function formatSingleQuestionData(singleQuizData = null) {
        const { prompt, correct_response, id } = singleQuizData;
        const questionText = prompt.question;
        const answers = prompt.answers;
        const correctAnswer = correct_response[0];
        const correctAnswerText = answers[correctAnswer.toLowerCase().charCodeAt(0) - 97];
        const questionObj = {
          id: id,
          question: questionText,
          answers: answers,
          correctAnswer,
          explanation: prompt?.explanation || '',
        };
        return questionObj;
      }

      /**
       * Renders a single question with its options and submit button.
       *
       * @param {Object} singleQuestionData - The data of the question to render.
       * @param {number} rootIndex - The index of the question in the quiz.
       * @return {void} return nothing.
       */

      const renderSingleQuestion = (singleQuestionData = {}, rootIndex = 1) => {
        const { id, explanation, answers, correctAnswer, question } = singleQuestionData;
        // shuffle the answers to randomize the order of the answers
        // for (let i = answers.length - 1; i > 0; i--) {
        //   const j = Math.floor(Math.random() * (i + 1));
        //   [answers[i], answers[j]] = [answers[j], answers[i]];
        // }
        const alphabet = 'abcdefghijklmnopqrstuvwxyz'.split('');
        const optionsHTML = answers
          .map((option, index) => {
            const optionId = `${id}_${index}`;

            return `
        <div class="question-lable">
          <input type="radio" id="${optionId}" name="${'answer'}" value="${alphabet[index]}" />
          <label for="${optionId}">${option}</label>
        </div>
      `;
          })

          .join('');

        const container = document.createElement('div');
        container.innerHTML = `
        <form data-correct-answer="${correctAnswer}" data-question-id="${id}" class="single-question-container" onsubmit="submitButtonListener(event)">
          <div style="display: flex;justify-content: space-between;">
            <p style="font-weight: 600">Question ${rootIndex}:</p>
            <button type="button" onclick="renderExplanation(event)" id="${`explanation-${id}`}" data-explanation="${'tt'}" data-explanation-id=${id} class="explanation-btn">View Explanation</button>
          </div>
          <p style="margin-bottom: 8px;line-height: 1.5">${question}</p>
          <div class="options-container">
            ${optionsHTML}
          </div>
          <div style="display: flex; gap: 8px;">
            <button type="submit" id="submit-button" class="button">Submit</button>
          </div>
        </form>
      `;
        quizContainerElement.appendChild(container);
      };

      /**
       * Updates the score on the page based on the number of correct and incorrect answers.
       *
       * @return {void} This function does not return a value.
       */
      function updateScore() {
        const currentParcentageElement = document.getElementById('current-score');
        const correctAnswerElement = document.getElementById('correct-answers');
        const wrongAnswerElement = document.getElementById('wrong-answers');
        correctAnswerElement.innerHTML = correct.size;
        wrongAnswerElement.innerHTML = incorrect.size;
        const score = Number((correct.size / totalNumberOfQuestions) * 100).toFixed(2);
        currentParcentageElement.innerHTML = score;
      }

      /**
       * Handles the event when the submit button is clicked.
       *
       * @param {Event} e - The event object.
       * @return {void} This function does not return anything.
       */
      const submitButtonListener = e => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const form = e.target;
        const selectedOption = e.target.querySelector('input[type="radio"]:checked');
        if (!selectedOption) {
          alert('Please select an answer!');
          return;
        }

        let isCorrect = false;
        const { answer: userAnswer } = Object.fromEntries(formData.entries());
        const correctAnswer = e.target.dataset.correctAnswer;
        const questionId = e.target.dataset.questionId;
        if (userAnswer == correctAnswer) {
          correct.add(questionId);
          incorrect.delete(questionId);
          isCorrect = true;
        } else {
          incorrect.add(e.target.dataset.questionId);
          correct.delete(questionId);
        }
        updateScore();

        const resultClass = isCorrect ? 'correct-answer' : 'incorrect-answer';

        form.querySelectorAll('.question-lable').forEach(label => {
          label.classList.remove('correct-answer', 'incorrect-answer');
        });
        selectedOption.closest('.question-lable').classList.add(resultClass);
      };

      function renderExplanation(ev) {
        const dataid = ev.target.dataset.explanationId;
        const quiz = quizData.questions.find(q => q.id === Number(dataid));
        modalTextElement.innerHTML =
          quiz && quiz.prompt.explanation ? quiz.prompt.explanation : 'no explanation found';
        // modalTextElement.innerHTML = ev.target.dataset?.explanation || 'no explanation found';
        dialog.showModal();
        dialog.addEventListener('click', event => {
          if (event.target === dialog) {
            dialog.close();
          }
        });
      }
    </script>
  </body>
</html>

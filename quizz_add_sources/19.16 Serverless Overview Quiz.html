<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>
    <style>
      * {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
          Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-size: 16px;
      }

      main {
        padding-top: 48px;
      }

      :root {
        --large-device-width: 850px;
        --primary-color: #0f172a;
        --secondary-color: #020617;
        --primary-text-color: #c7d1dd;
        --secondary-text-color: #061602;
        --success-background: hsl(159, 82%, 24%);
        --success-foreground: hsl(164, 86%, 16%);
        --success: hsl(160, 84%, 39%);
        --danger: #ef4444;
        --warning: #f59e0b;
        --info-background: hsl(218, 81%, 8%);
        --info-foreground: hsl(217, 91%, 85%);
        --border-color: #d1d7dc;
        --check-box-size: 20px;
        /* control the size */
        --check-box-color: var(--info-foreground);
        /* the active color */
      }

      body {
        position: relative;
        background-color: #020617;
        color: var(--primary-text-color);
      }

      #score-stats-container {
        position: fixed;
        z-index: 10;
        top: 0;
        height: 40px;
        width: 100%;
        background-color: var(--info-background);

        padding: 0px 16px;
        color: var(--info-foreground);
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      #quiz-container {
        border-radius: 8px;
        display: flex;
        gap: 16px;
        flex-direction: column;
      }

      input[type='radio'] {
        height: var(--check-box-size);
        aspect-ratio: 1;
        border: calc(var(--check-box-size) / 8) solid #939393;
        padding: calc(var(--check-box-size) / 8);
        background: radial-gradient(farthest-side, var(--check-box-color) 94%, #0000) 50%/0 0 no-repeat
          content-box;
        border-radius: 50%;
        outline-offset: calc(var(--check-box-size) / 10);
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        cursor: pointer;
        font-size: inherit;
        transition: 0.3s;
      }

      input[type='radio']:checked {
        border-color: var(--check-box-color);
        background-size: 100% 100%;
      }

      input[type='radio']:disabled {
        background: linear-gradient(#939393 0 0) 50%/100% 20% no-repeat content-box;
        opacity: 0.5;
        cursor: not-allowed;
      }

      label {
        /* display: inline-flex; */
        align-items: center;
        gap: 10px;
        cursor: pointer;
        padding: 4px 6px;
        border-radius: 4px;
      }

      @media (max-width: 767px) {
        input[type='radio'],
        label {
          cursor: default;
        }

        #quiz-container {
          margin-left: 8px;
          margin-right: 8px;
        }
      }

      /* PC (Desktop devices) */
      @media (min-width: 768px) {
        body {
          display: flex;
          justify-content: center;
        }

        main {
          max-width: var(--large-device-width);
        }

        #score-stats-container {
          max-width: var(--large-device-width);
        }

        dialog {
          max-width: var(--large-device-width);
        }
      }

      @media print {
        input[type='radio'] {
          background: none !important;
          border-color: #939393 !important;
        }

        input[type='radio']:checked {
          border-color: #939393 !important;
        }
      }

      .question-lable {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      button {
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        outline: none;
        position: relative;
        overflow: hidden;
        cursor: pointer;
      }

      .button {
        background-color: var(--success-background);
        border: none;
        color: #f4f5f7;
        opacity: 0.8;
        font-size: 18px;
        flex-grow: 1;
        padding: 8px 16px;
        border-radius: 8px;
      }

      .button:hover {
        opacity: 1;
      }

      .explanation-btn {
        border: none;
        color: var(--success);
        background-color: transparent;
      }

      #submit-button:active::after {
        background-color: #ef4444;
      }

      .single-question-container {
        background-color: var(--primary-color);
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 16px;
        border-radius: 8px;
      }

      #modal-content {
        padding: 16px;
        line-height: 24px;
      }

      dialog::backdrop {
        background: rgba(0, 0, 0, 0.5);
      }

      dialog {
        position: fixed;
        border: 1px solid var(--border-color);
        background-color: var(--primary-color);
        color: rgb(240, 241, 248);
        padding: 16px;
        border-radius: 8px;
        width: 80vw;
        max-height: 80vh;
        overflow: auto;
        top: 50%;
        left: 50%;
        -webkit-transform: translateX(-50%) translateY(-50%);
        -moz-transform: translateX(-50%) translateY(-50%);
        -ms-transform: translateX(-50%) translateY(-50%);
        transform: translateX(-50%) translateY(-50%);
      }

      #close-modal-btn {
        position: absolute;
        top: 4px;
        right: 4px;
        padding: 2px 8px;
        border-radius: 2px;
        border: none;
        background-color: var(--danger);
      }

      .correct-answer label {
        border: 2px solid var(--success);
        width: 100%;
      }

      .incorrect-answer label {
        border: 2px solid var(--danger);
        width: 100%;
      }

      .options-container {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      #quiz-meta-container {
        border-radius: 8px;
        background-color: var(--primary-color);
        margin-bottom: 12px;
        padding: 8px;
      }

      #quiz-title {
        text-align: center;
        font-size: 24px;
        margin-bottom: 8px;
      }

      #quiz-description {
        line-height: 1.5;
        padding: 2px 6px;
      }
      img {
        width: 100%;
      }
    </style>
  </head>

  <body onload="main()">
    <main>
      <section id="quiz-meta-container">
        <h1 id="quiz-title"></h1>
        <p id="quiz-description"></p>
      </section>
      <section id="score-stats-container">
        <div id="score-card">
          Score: <span id="current-score">999</span> of
          <span id="pass-percent">999%</span>
        </div>
        <div>Correct: <span id="correct-answers">999</span></div>
        <div>Incorrect: <span id="wrong-answers">999</span></div>
      </section>

      <section id="quiz-container"></section>

      <dialog id="modal" class="modal-container">
        <div id="modal-content">
          <p id="modal-text"></p>
        </div>
      </dialog>
    </main>

    <script>
      const quizData = {"quiz_id":5337197,"quiz_title":"Serverless Overview Quiz","questions":[{"_class":"assessment","id":37595419,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","feedbacks":["The maximum timeout you can configure in Lambda is 15 minutes.","This may speed up the function processing time, but it wouldn't reduce execution time below 15 minutes.","Lambda's maximum execution time is 15 minutes. You can run your code somewhere else such as an EC2 instance or use Amazon ECS."],"question":"<p>You have created a Lambda function that typically will take around 1 hour to process some data. The code works fine when you run it locally on your machine, but when you invoke the Lambda function it fails with a <strong>\"timeout\"</strong> error after 3 seconds. What should you do?</p>","answers":["<p>Configure your Lambda's timeout to 25 minutes</p>","<p>Configure your Lambda's memory to 10 GB</p>","<p>Run your code somewhere else (e.g., EC2 instance)</p>"]},"correct_response":["c"],"section":"","question_plain":"You have created a Lambda function that typically will take around 1 hour to process some data. The code works fine when you run it locally on your machine, but when you invoke the Lambda function it fails with a \"timeout\" error after 3 seconds. What should you do?","related_lectures":[]},{"_class":"assessment","id":37595493,"assessment_type":"multiple-choice","prompt":{"question":"<p>Before you create a DynamoDB table, you need to provision the EC2 instance the DynamoDB table will be running on.</p>","answers":["<p>True</p>","<p>False</p>"],"relatedLectureIds":"","feedbacks":["","DynamoDB is serverless with no servers to provision, patch, or manage and no software to install, maintain or operate. It automatically scales tables up and down to adjust for capacity and maintain performance. It provides both provisioned (specify RCU &amp; WCU) and on-demand (pay for what you use) capacity modes."]},"correct_response":["b"],"section":"","question_plain":"Before you create a DynamoDB table, you need to provision the EC2 instance the DynamoDB table will be running on.","related_lectures":[]},{"_class":"assessment","id":37595559,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","question":"<p>You have provisioned a DynamoDB table with 10 RCUs and 10 WCUs. A month later you want to increase the RCU to handle more read traffic. What should you do?</p>","answers":["<p>Increase RCU and keep WCU the same</p>","<p>You need to increase both RCU and WCU</p>","<p>Increase RCU and decrease WCU</p>"],"feedbacks":["RCU and WCU are decoupled, so you can increase/decrease each value separately.","",""]},"correct_response":["a"],"section":"","question_plain":"You have provisioned a DynamoDB table with 10 RCUs and 10 WCUs. A month later you want to increase the RCU to handle more read traffic. What should you do?","related_lectures":[]},{"_class":"assessment","id":37595689,"assessment_type":"multiple-choice","prompt":{"feedbacks":["This is not a good solution to solve the Hot Key problem and it will cost you a lot of money.","DynamoDB Accelerator (DAX) is a fully managed, highly available, in-memory cache for DynamoDB that delivers up to 10x performance improvement. It caches the most frequently used data, thus offloading the heavy reads on hot keys off your DynamoDB table, hence preventing the \"ProvisionedThroughputExceededException\" exception. ","This requires too much effort and it might not deliver the required performance."],"question":"<p>You have an e-commerce website where you are using DynamoDB as your database. You are about to enter the Christmas sale and you have a few items which are very popular and you expect that they will be read often. Unfortunately, last year due to the huge traffic you had the <code><strong>ProvisionedThroughputExceededException</strong></code> exception. What would you do to prevent this error from happening again?</p>","answers":["<p>Increase the RCU to a very high value</p>","<p>Create a DAX Cluster</p>","<p>Migrate the database away from DynamoDB for the time of the sale</p>"],"relatedLectureIds":""},"correct_response":["b"],"section":"","question_plain":"You have an e-commerce website where you are using DynamoDB as your database. You are about to enter the Christmas sale and you have a few items which are very popular and you expect that they will be read often. Unfortunately, last year due to the huge traffic you had the ProvisionedThroughputExceededException exception. What would you do to prevent this error from happening again?","related_lectures":[]},{"_class":"assessment","id":37595695,"assessment_type":"multiple-choice","prompt":{"answers":["<p>Schedule a Lambda function to run every minute using CloudWatch Events, scan the entire table looking for new users</p>","<p>Enable SNS and DynamoDB integration</p>","<p>Enable DynamoDB Streams and configure it to invoke a Lambda function to send emails</p>"],"relatedLectureIds":"","question":"<p>You have developed a mobile application that uses DynamoDB as its datastore. You want to automate sending welcome emails to new users after they sign up. What is the most efficient way to achieve this?</p>","feedbacks":["This would work but it wouldn't be a scalable, cheap, or efficient solution.","There's no such feature.","DynamoDB Streams allows you to capture a time-ordered sequence of item-level modifications in a DynamoDB table. It's integrated with AWS Lambda so that you create triggers that automatically respond to events in real-time."]},"correct_response":["c"],"section":"","question_plain":"You have developed a mobile application that uses DynamoDB as its datastore. You want to automate sending welcome emails to new users after they sign up. What is the most efficient way to achieve this?","related_lectures":[]},{"_class":"assessment","id":37595707,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","answers":["<p>EC2 Instance</p>","<p>Elastic Load Balancing</p>","<p>AWS Lambda</p>"],"question":"<p>To create a serverless API, you should integrate Amazon API Gateway with ......................</p>","feedbacks":["EC2 instances are not serverless.","An ELB does not help create an API on its own.",""]},"correct_response":["c"],"section":"","question_plain":"To create a serverless API, you should integrate Amazon API Gateway with ......................","related_lectures":[]},{"_class":"assessment","id":37602699,"assessment_type":"multiple-choice","prompt":{"answers":["<p>False</p>","<p>True</p>"],"question":"<p>When you are using an Edge-Optimized API Gateway, your API Gateway lives in CloudFront Edge Locations across all AWS Regions.</p>","feedbacks":["An Edge-Optimized API Gateway is best for geographically distributed clients. API requests are routed to the nearest CloudFront Edge Location which improves latency. The API Gateway still lives in one AWS Region.",""],"relatedLectureIds":""},"correct_response":["a"],"section":"","question_plain":"When you are using an Edge-Optimized API Gateway, your API Gateway lives in CloudFront Edge Locations across all AWS Regions.","related_lectures":[]},{"_class":"assessment","id":37602751,"assessment_type":"multiple-choice","prompt":{"relatedLectureIds":"","feedbacks":["","","","This will work, but it would be extremely expensive as On-Demand Capacity Mode is much more expensive than Provisioned Capacity Mode. As we know production has a smooth sustained curve, Provisioned Capacity Mode with Auto Scaling enabled would be perfect."],"question":"<p>You are running an application in production that is leveraging DynamoDB as its datastore and is experiencing smooth sustained usage. There is a need to make the application run in development mode as well, where it will experience the unpredictable volume of requests. What is the most cost-effective solution that you recommend?</p>","answers":["<p>Use Provisioned Capacity Mode with Auto Scaling enabled for both development and production</p>","<p>Use Provisioned Capacity Mode with Auto Scaling enabled for production and use On-Demand Capacity Mode for development</p>","<p>Use Provisioned Capacity Mode with Auto Scaling enabled for development and use On-Demand Capacity Mode for production</p>","<p>Use On-Demand Capacity Mode for both development and production</p>"]},"correct_response":["b"],"section":"","question_plain":"You are running an application in production that is leveraging DynamoDB as its datastore and is experiencing smooth sustained usage. There is a need to make the application run in development mode as well, where it will experience the unpredictable volume of requests. What is the most cost-effective solution that you recommend?","related_lectures":[]},{"_class":"assessment","id":37602757,"assessment_type":"multiple-choice","prompt":{"question":"<p>You have an application that is served globally using CloudFront Distribution. You want to authenticate users at the CloudFront Edge Locations instead of authentication requests go all the way to your origins. What should you use to satisfy this requirement?</p>","feedbacks":["Lambda@Edge is a feature of CloudFront that lets you run code closer to your users, which improves performance and reduces latency.","API Gateway is a fully managed service that makes it easy to create, publish, maintain, monitor, and secure APIs at any scale. It can't be used to run code globally on CloudFront Edge Locations.","","AWS Global Accelerator allows you to improve the performance of your users' traffic by up to 60% using AWS global network infrastructure. It can't be used to run code globally on CloudFront Edge Locations."],"relatedLectureIds":"","answers":["<p>Lambda@Edge</p>","<p>API Gateway</p>","<p>DynamoDB</p>","<p>AWS Global Accelerator</p>"]},"correct_response":["a"],"section":"","question_plain":"You have an application that is served globally using CloudFront Distribution. You want to authenticate users at the CloudFront Edge Locations instead of authentication requests go all the way to your origins. What should you use to satisfy this requirement?","related_lectures":[]},{"_class":"assessment","id":37602763,"assessment_type":"multiple-choice","prompt":{"feedbacks":["","","",""],"question":"<p>The maximum size of an item in a DynamoDB table is ...................</p>","relatedLectureIds":"","answers":["<p>1&nbsp;MB</p>","<p>500 KB</p>","<p>400 KB</p>","<p>400 MB</p>"]},"correct_response":["c"],"section":"","question_plain":"The maximum size of an item in a DynamoDB table is ...................","related_lectures":[]},{"_class":"assessment","id":51342424,"assessment_type":"multiple-choice","prompt":{"question":"<p>Which AWS service allows you to build Serverless workflows using AWS services (e.g., Lambda) and supports human approval?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>AWS Lambda</p>","<p>Amazon ECS</p>","<p>AWS Step Functions</p>","<p>AWS Storage Gateway</p>"]},"correct_response":["c"],"section":"","question_plain":"Which AWS service allows you to build Serverless workflows using AWS services (e.g., Lambda) and supports human approval?","related_lectures":[]},{"_class":"assessment","id":51342430,"assessment_type":"multiple-choice","prompt":{"question":"<p>A company has a serverless application on AWS which consists of Lambda, DynamoDB, and Step Functions. In the last month, there are an increase in the number of requests against the application which results in an increase in DynamoDB costs, and requests started to be throttled. After further investigation, it shows that the majority of requests are read requests against some queries in the DynamoDB table. What do you recommend to prevent throttles and reduce costs efficiently?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>Use an EC2 instance with Redis installed and place it between the Lambda function and the DynamoDB table</p>","<p>Migrate from DynamoDB to Aurora and use ElastiCache to cache the most requested read data</p>","<p>Migrate from DynamoDB to S3 and use CloudFront to cache the most requested read data</p>","<p>Use DynamoDB Accelerator (DAX) to cache the most requested read data</p>"]},"correct_response":["d"],"section":"","question_plain":"A company has a serverless application on AWS which consists of Lambda, DynamoDB, and Step Functions. In the last month, there are an increase in the number of requests against the application which results in an increase in DynamoDB costs, and requests started to be throttled. After further investigation, it shows that the majority of requests are read requests against some queries in the DynamoDB table. What do you recommend to prevent throttles and reduce costs efficiently?","related_lectures":[]},{"_class":"assessment","id":51342432,"assessment_type":"multiple-choice","prompt":{"question":"<p>You are a DevOps engineer in a football company that has a website that is backed by a DynamoDB table. The table stores viewers’ feedback for football matches. You have been tasked to work with the analytics team to generate reports on the viewers’ feedback. The analytics team wants the data in DynamoDB in <code>json</code> format and hosted in an S3 bucket to start working on it and create the reports. What is the best and most cost-effective way to convert DynamoDB data to <code>json</code> files?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>Select DynamoDB table then select Export to S3</p>","<p>Create a Lambda function to read DynamoDB data, convert them to <code>json</code> files, then store the files in S3 bucket</p>","<p>Use AWS Transfer Family</p>","<p>Use AWS DataSync</p>"]},"correct_response":["a"],"section":"","question_plain":"You are a DevOps engineer in a football company that has a website that is backed by a DynamoDB table. The table stores viewers’ feedback for football matches. You have been tasked to work with the analytics team to generate reports on the viewers’ feedback. The analytics team wants the data in DynamoDB in json format and hosted in an S3 bucket to start working on it and create the reports. What is the best and most cost-effective way to convert DynamoDB data to json files?","related_lectures":[]},{"_class":"assessment","id":51342440,"assessment_type":"multiple-choice","prompt":{"question":"<p>A website is currently in the development process and it is going to be hosted on AWS. There is a requirement to store user sessions for users logged in to the website with an automatic expiry and deletion of expired user sessions. Which of the following AWS services are best suited for this use case?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>Store users’ sessions in an S3 bucket and enable S3 Lifecycle Policy</p>","<p>Store users’ sessions locally in an EC2 instance</p>","<p>Store users’ sessions in a DynamoDB table and enable TTL</p>","<p>Store users’ sessions in an EFS file system</p>"]},"correct_response":["c"],"section":"","question_plain":"A website is currently in the development process and it is going to be hosted on AWS. There is a requirement to store user sessions for users logged in to the website with an automatic expiry and deletion of expired user sessions. Which of the following AWS services are best suited for this use case?","related_lectures":[]},{"_class":"assessment","id":56336206,"assessment_type":"multiple-choice","prompt":{"question":"<p>You have a mobile application and would like to give your users access to their own personal space in the S3 bucket. How do you achieve that?</p>","relatedLectureIds":"","feedbacks":["This does not scale well, we cannot create an IAM user per mobile application user.","Amazon Cognito can be used to federate mobile user accounts and provide them with their own IAM permissions, so they can be able to access their own personal space in the S3 bucket.","SAML Identity Federation is used to integrate an Identity Provider service such as Microsoft Active Directory with AWS. It does not work for mobile applications.","Never make an S3 bucket public to your mobile application users. This would result in data leaks! Read horror stories here: https://businessinsights.bitdefender.com/worst-amazon-breaches"],"answers":["<p>Generate IAM user credentials for each of your application's users</p>","<p>Use Amazon Cognito Identity Federation</p>","<p>Use SAML Identity Federation</p>","<p>Use a Bucket Policy to make your bucket public</p>"]},"correct_response":["b"],"section":"","question_plain":"You have a mobile application and would like to give your users access to their own personal space in the S3 bucket. How do you achieve that?","related_lectures":[]},{"_class":"assessment","id":56336218,"assessment_type":"multiple-choice","prompt":{"question":"<p>You are developing a new web and mobile application that will be hosted on AWS and currently, you are working on developing the login and signup page. The application backend is serverless and you are using Lambda, DynamoDB, and API Gateway. Which of the following is the best and easiest approach to configure the authentication for your backend?</p>","relatedLectureIds":"","feedbacks":["","","",""],"answers":["<p>Store users’ credentials in a DynamoDB table encrypted using KMS</p>","<p>Store users’ credentials in an S3 bucket encrypted using KMS</p>","<p>Use Cognito User Pools</p>","<p>Store users’ credentials in AWS Secrets Manager</p>"]},"correct_response":["c"],"section":"","question_plain":"You are developing a new web and mobile application that will be hosted on AWS and currently, you are working on developing the login and signup page. The application backend is serverless and you are using Lambda, DynamoDB, and API Gateway. Which of the following is the best and easiest approach to configure the authentication for your backend?","related_lectures":[]},{"_class":"assessment","id":56336248,"assessment_type":"multiple-choice","prompt":{"question":"<p>You are running a mobile application where you want each registered user to upload/download images to/from his own folder in the S3 bucket. Also, you want to give your users to sign-up and sign in using their social media accounts (e.g., Facebook). Which AWS service should you choose?</p>","relatedLectureIds":"","feedbacks":["AWS IAM enables you to manage access to AWS services and resources securely. It allows you to create and manage AWS users and groups, and use permissions to allow and deny their access to AWS resources. IAM can not be used to federate mobile users.","AWS IAM Identity Center makes it easy to centrally manage SSO access to all of your AWS accounts and cloud applications. It helps you manage SSO access and user permissions across all your AWS accounts in AWS Organizations. It also helps when you manage access and permissions to commonly used 3rd party software as a service (SaaS) applications, AWS SSO-integrated applications as well as custom applications that support Security Assertion Markup Language (SAML) 2.0.  AWS SSO also includes built-in SAML integrations to many business applications, such as Salesforce, Box, and Office 365.","Amazon Cognito lets you add user sign-up, sign-in, and access control to your web and mobile apps quickly and easily. Amazon Cognito scales to millions of users and supports sign-in with social identity providers, such as Apple, Facebook, Google, and Amazon, and enterprise identity providers via SAML 2.0 and OpenID Connect.","Amazon CloudFront is a fast content delivery network (CDN) service that securely delivers data, videos, applications, and APIs to customers globally with low latency, high transfer speeds. Amazon CloudFront does not federate mobile users or generate security credentials."],"answers":["<p>AWS Identity and Access Management (IAM)</p>","<p>AWS IAM&nbsp;Identity Center</p>","<p>Amazon Cognito</p>","<p>Amazon CloudFront</p>"]},"correct_response":["c"],"section":"","question_plain":"You are running a mobile application where you want each registered user to upload/download images to/from his own folder in the S3 bucket. Also, you want to give your users to sign-up and sign in using their social media accounts (e.g., Facebook). Which AWS service should you choose?","related_lectures":[]}]};
      let correct = new Set();
      let incorrect = new Set();
      let totalNumberOfQuestions = 0;
      const quizTitle = quizData.quiz_title;
      const quizDescription = quizData.quiz_description;
      const questionData = quizData.questions;
      const passPercent = quizData.pass_percent;
      const modalTextElement = document.getElementById('modal-text');
      const quizContainerElement = document.getElementById('quiz-container');

      const dialog = document.querySelector('dialog');
      const showButton = document.getElementById('view-explanatin');
      const closeButton = document.getElementById('close-modal-btn');
      const quizTitleElement = document.getElementById('quiz-title');
      const quizDescriptionElement = document.getElementById('quiz-description');

      function main() {
        // update quiz meta data
        document.title = quizTitle;
        quizTitleElement.innerHTML = quizTitle;
        quizDescriptionElement.innerHTML = quizDescription;

        const passPercentElement = document.getElementById('pass-percent');
        passPercentElement.innerHTML = passPercent + '%';
        totalNumberOfQuestions = questionData.length;
        // shuffle the questionData to randomize the order of the questions
        for (let i = questionData.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [questionData[i], questionData[j]] = [questionData[j], questionData[i]];
        }

        let formattedQuestions = questionData.map(formatSingleQuestionData);
        updateScore();
        // display the formattedQuestions
        formattedQuestions.forEach((question, idx) => {
          renderSingleQuestion(question, idx + 1);
        });
      }

      /**
       * Formats the question data from the given QuizData object.
       *
       * @param {Object} singleQuizData - The singleQuizData object containing prompt and correct_response.
       * @return {Object} The formatted question object with the following properties:
       *   - id: The ID of the question.
       *   - question: The text of the question.
       *   - answers: The array of answer options.
       *   - correctAnswer: The text of the correct answer.
       *   - explanation: The explanation of the correct answer.
       */
      function formatSingleQuestionData(singleQuizData = null) {
        const { prompt, correct_response, id } = singleQuizData;
        const questionText = prompt.question;
        const answers = prompt.answers;
        const correctAnswer = correct_response[0];
        const correctAnswerText = answers[correctAnswer.toLowerCase().charCodeAt(0) - 97];
        const questionObj = {
          id: id,
          question: questionText,
          answers: answers,
          correctAnswer,
          explanation: prompt?.explanation || '',
        };
        return questionObj;
      }

      /**
       * Renders a single question with its options and submit button.
       *
       * @param {Object} singleQuestionData - The data of the question to render.
       * @param {number} rootIndex - The index of the question in the quiz.
       * @return {void} return nothing.
       */

      const renderSingleQuestion = (singleQuestionData = {}, rootIndex = 1) => {
        const { id, explanation, answers, correctAnswer, question } = singleQuestionData;
        // shuffle the answers to randomize the order of the answers
        // for (let i = answers.length - 1; i > 0; i--) {
        //   const j = Math.floor(Math.random() * (i + 1));
        //   [answers[i], answers[j]] = [answers[j], answers[i]];
        // }
        const alphabet = 'abcdefghijklmnopqrstuvwxyz'.split('');
        const optionsHTML = answers
          .map((option, index) => {
            const optionId = `${id}_${index}`;

            return `
        <div class="question-lable">
          <input type="radio" id="${optionId}" name="${'answer'}" value="${alphabet[index]}" />
          <label for="${optionId}">${option}</label>
        </div>
      `;
          })

          .join('');

        const container = document.createElement('div');
        container.innerHTML = `
        <form data-correct-answer="${correctAnswer}" data-question-id="${id}" class="single-question-container" onsubmit="submitButtonListener(event)">
          <div style="display: flex;justify-content: space-between;">
            <p style="font-weight: 600">Question ${rootIndex}:</p>
            <button type="button" onclick="renderExplanation(event)" id="${`explanation-${id}`}" data-explanation="${'tt'}" data-explanation-id=${id} class="explanation-btn">View Explanation</button>
          </div>
          <p style="margin-bottom: 8px;line-height: 1.5">${question}</p>
          <div class="options-container">
            ${optionsHTML}
          </div>
          <div style="display: flex; gap: 8px;">
            <button type="submit" id="submit-button" class="button">Submit</button>
          </div>
        </form>
      `;
        quizContainerElement.appendChild(container);
      };

      /**
       * Updates the score on the page based on the number of correct and incorrect answers.
       *
       * @return {void} This function does not return a value.
       */
      function updateScore() {
        const currentParcentageElement = document.getElementById('current-score');
        const correctAnswerElement = document.getElementById('correct-answers');
        const wrongAnswerElement = document.getElementById('wrong-answers');
        correctAnswerElement.innerHTML = correct.size;
        wrongAnswerElement.innerHTML = incorrect.size;
        const score = Number((correct.size / totalNumberOfQuestions) * 100).toFixed(2);
        currentParcentageElement.innerHTML = score;
      }

      /**
       * Handles the event when the submit button is clicked.
       *
       * @param {Event} e - The event object.
       * @return {void} This function does not return anything.
       */
      const submitButtonListener = e => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const form = e.target;
        const selectedOption = e.target.querySelector('input[type="radio"]:checked');
        if (!selectedOption) {
          alert('Please select an answer!');
          return;
        }

        let isCorrect = false;
        const { answer: userAnswer } = Object.fromEntries(formData.entries());
        const correctAnswer = e.target.dataset.correctAnswer;
        const questionId = e.target.dataset.questionId;
        if (userAnswer == correctAnswer) {
          correct.add(questionId);
          incorrect.delete(questionId);
          isCorrect = true;
        } else {
          incorrect.add(e.target.dataset.questionId);
          correct.delete(questionId);
        }
        updateScore();

        const resultClass = isCorrect ? 'correct-answer' : 'incorrect-answer';

        form.querySelectorAll('.question-lable').forEach(label => {
          label.classList.remove('correct-answer', 'incorrect-answer');
        });
        selectedOption.closest('.question-lable').classList.add(resultClass);
      };

      function renderExplanation(ev) {
        const dataid = ev.target.dataset.explanationId;
        const quiz = quizData.questions.find(q => q.id === Number(dataid));
        modalTextElement.innerHTML =
          quiz && quiz.prompt.explanation ? quiz.prompt.explanation : 'no explanation found';
        // modalTextElement.innerHTML = ev.target.dataset?.explanation || 'no explanation found';
        dialog.showModal();
        dialog.addEventListener('click', event => {
          if (event.target === dialog) {
            dialog.close();
          }
        });
      }
    </script>
  </body>
</html>
